import React from 'react';
import PropTypes from 'prop-types';
import connect from 'react-redux/es/connect/connect';
import { withStyles } from '@material-ui/core/styles';
import Chip from '@material-ui/core/Chip';
import { deleteAssignedLabel } from '../actions/taggerActions';

const styles = theme => ({
  root: {
    display: 'flex',
    justifyContent: 'center',
    flexWrap: 'wrap',
  },
  chip: {
    borderTopLeftRadius: 3,
    borderBottomLeftRadius: 3,
    fontSize: 15,
  },
});

const mapDispatchToProps = dispatch => ({
  handleDelete: labelStartIdx => dispatch(deleteAssignedLabel(labelStartIdx)),
});

function LabelAssignedComponent(props) {
  const { classes, labelText, labelColor, handleDelete, labelStartIdx } = props;
  return (
      <Chip
        className={classes.chip}
        label={labelText}
        labelStartIdx={labelStartIdx}
        style={{ backgroundColor: labelColor }}
        onDelete={() => handleDelete(labelStartIdx)}
      />
  );
}

LabelAssignedComponent.propTypes = {
  classes: PropTypes.object.isRequired,
  labelText: PropTypes.string.isRequired,
  labelColor: PropTypes.string.isRequired,
  handleDelete: PropTypes.func.isRequired,
  labelStartIdx: PropTypes.number.isRequired
};

const LabelAssigned = connect(null, mapDispatchToProps)(LabelAssignedComponent);

export default withStyles(styles)(LabelAssigned);