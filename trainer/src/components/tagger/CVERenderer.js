import React from 'react';
import { connect } from 'react-redux';
import PropTypes from 'prop-types';
import { withStyles } from '@material-ui/core/styles';
import Card from '@material-ui/core/Card';
import CardContent from '@material-ui/core/CardContent';
import Typography from '@material-ui/core/Typography';
import withRoot from "../../styles/withRoot";
import SubSectionHeader from '../shared/subSectionHeader'

const styles = theme => ({
  card: {
    minWidth: 275,
    border: `2px solid ${theme.palette.primary["300"]}`,
    borderRadius: '5px',
    backgroundColor: `${theme.palette.background.default}`,
    marginBottom: 10
  },
  cardContent: {
    paddingTop: '24px'
  },
  title: {
    fontSize: 18,
  },
});

const mapStateToProps = state => ({
  currentAnalyzedCveProp: state.tagger.currentAnalyzedCve,
});

function CVERendererComponent(props) {
  const { classes, currentAnalyzedCveProp } = props;

  return (
    <div>
      <SubSectionHeader title="CVE Description" />,
      <Card className={classes.card}>
        <CardContent className={classes.cardContent}>
          <Typography className={classes.title} color="textSecondary">
            { currentAnalyzedCveProp }
          </Typography>
        </CardContent>
      </Card>,
      <SubSectionHeader title="Labels" />,
    </div>
  );
}

CVERendererComponent.propTypes = {
  classes: PropTypes.object.isRequired,
  currentAnalyzedCveProp: PropTypes.string.isRequired
};


const CVERenderer = connect(mapStateToProps)(CVERendererComponent);

export default withRoot(withStyles(styles, { withTheme: true })(CVERenderer));
